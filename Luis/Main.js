"use strict";
var Test;
(function (Test) {
    var fudge = FudgeCore;
    window.addEventListener("load", hndLoad);

    let color = fudge.Color.CSS("GREEN");
    let sphereSize = 20;
    let ambIntensity = 0.4;
    let dirIntensity = 0.8;
    let shininess = 128;
    let dirRotation = new fudge.Vector3(20, 20, 0);

    let shaders = [fudge.ShaderFlat, fudge.ShaderGouraud, fudge.ShaderPhong];

    function hndLoad(_event) {
        const canvas0 = document.getElementById("c0");
        const canvas1 = document.getElementById("c1");
        const canvas2 = document.getElementById("c2");
        fudge.Render.initialize();

        Test.viewport0 = new fudge.Viewport();
        Test.viewport1 = new fudge.Viewport();
        Test.viewport2 = new fudge.Viewport();

        let object0 = new ObjectWithLights("Object0", color, shaders[0]);
        let object1 = new ObjectWithLights("Object1", color, shaders[1]);
        let object2 = new ObjectWithLights("Object2", color, shaders[2]);

        let cmpCamera = new fudge.ComponentCamera();
        cmpCamera.mtxPivot.translateZ(-2);

        Test.viewport0.initialize("Viewport", object0, cmpCamera, canvas0);
        Test.viewport0.draw();
        Test.viewport1.initialize("Viewport", object1, cmpCamera, canvas1);
        Test.viewport1.draw();
        Test.viewport2.initialize("Viewport", object2, cmpCamera, canvas2);
        Test.viewport2.draw();
    }
    class ObjectWithLights extends fudge.Node {
        constructor(_name, _color, _shader) {
            super(_name);
            this.object = new fudge.Node("");
            this.appendChild(this.object);
            let mtr = new fudge.Material("mtr" + _color.toString(), _shader, new fudge.CoatColored(_color, shininess));
            let cmpMaterial = new fudge.ComponentMaterial(mtr);

            // this.object.addComponent(new fudge.ComponentMesh(new fudge.MeshSphere(sphereSize.toString(), sphereSize, sphereSize)));
            this.object.addComponent(new fudge.ComponentMesh(new fudge.MeshObj(Test.Object.obj)));

            this.object.addComponent(cmpMaterial);
            this.object.addComponent(new fudge.ComponentTransform());
            
            let cmpLight = new fudge.ComponentLight(new fudge.LightDirectional(new fudge.Color(dirIntensity, dirIntensity, dirIntensity, 1)));
            let light = new fudge.Node("Light");
            light.addComponent(cmpLight);
            light.addComponent(new fudge.ComponentTransform());
            light.cmpTransform.mtxLocal.rotate(dirRotation);
            this.appendChild(light);

            let cmpLightAmb = new fudge.ComponentLight(new fudge.LightAmbient(new fudge.Color(ambIntensity, ambIntensity, ambIntensity, 1)));
            let lightAmb = new fudge.Node("LightAmb");
            lightAmb.addComponent(cmpLightAmb);
            this.appendChild(lightAmb);
        }
    }
    Test.ObjectWithLights = ObjectWithLights;
})(Test || (Test = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVUsSUFBSSxDQXdFYjtBQXhFRCxXQUFVLElBQUk7SUFDVixJQUFPLEtBQUssR0FBRyxTQUFTLENBQUM7SUFFekIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUt6QyxJQUFJLEtBQUssR0FBZ0IsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEQsK0JBQStCO0lBQy9CLElBQUksWUFBWSxHQUFXLEdBQUcsQ0FBQztJQUMvQixJQUFJLFlBQVksR0FBVyxHQUFHLENBQUM7SUFDL0IsSUFBSSxTQUFTLEdBQVcsR0FBRyxDQUFDO0lBQzVCLElBQUksV0FBVyxHQUFrQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxJQUFJLE9BQU8sR0FBMEIsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRWhHLFNBQVMsT0FBTyxDQUFDLE1BQWE7UUFDMUIsTUFBTSxPQUFPLEdBQXlDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEYsTUFBTSxPQUFPLEdBQXlDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEYsTUFBTSxPQUFPLEdBQXlDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEYsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUMxQixLQUFBLFNBQVMsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNqQyxLQUFBLFNBQVMsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztR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QUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdCLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxLQUFLLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1lBQ25ELEtBQUssQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXhCLElBQUksV0FBVyxHQUF5QixJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkosSUFBSSxRQUFRLEdBQWUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3RELFFBQVEsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQixDQUFDO0tBQ0o7SUEvQlkscUJBQWdCLG1CQStCNUIsQ0FBQTtBQUNMLENBQUMsRUF4RVMsSUFBSSxLQUFKLElBQUksUUF3RWIiLCJzb3VyY2VzQ29udGVudCI6WyJuYW1lc3BhY2UgVGVzdCB7XHJcbiAgICBpbXBvcnQgZnVkZ2UgPSBGdWRnZUNvcmU7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGhuZExvYWQpO1xyXG4gICAgZXhwb3J0IGxldCB2aWV3cG9ydDA6IGZ1ZGdlLlZpZXdwb3J0O1xyXG4gICAgZXhwb3J0IGxldCB2aWV3cG9ydDE6IGZ1ZGdlLlZpZXdwb3J0O1xyXG4gICAgZXhwb3J0IGxldCB2aWV3cG9ydDI6IGZ1ZGdlLlZpZXdwb3J0O1xyXG5cclxuICAgIGxldCBjb2xvcjogZnVkZ2UuQ29sb3IgPSBmdWRnZS5Db2xvci5DU1MoXCJHUkVFTlwiKTtcclxuICAgIC8vIGxldCBzcGhlcmVTaXplOiBudW1iZXIgPSAyNTtcclxuICAgIGxldCBhbWJJbnRlbnNpdHk6IG51bWJlciA9IDAuMjtcclxuICAgIGxldCBkaXJJbnRlbnNpdHk6IG51bWJlciA9IDAuNztcclxuICAgIGxldCBzaGluaW5lc3M6IG51bWJlciA9IDEyODtcclxuICAgIGxldCBkaXJSb3RhdGlvbjogZnVkZ2UuVmVjdG9yMyA9IG5ldyBmdWRnZS5WZWN0b3IzKDAsIDQ1LCAwKTtcclxuICAgIGxldCBzaGFkZXJzOiB0eXBlb2YgZnVkZ2UuU2hhZGVyW10gPSBbZnVkZ2UuU2hhZGVyRmxhdCwgZnVkZ2UuU2hhZGVyR291cmF1ZCwgZnVkZ2UuU2hhZGVyUGhvbmddO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBobmRMb2FkKF9ldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjYW52YXMwOiBIVE1MQ2FudmFzRWxlbWVudCA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImMwXCIpO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhczE6IEhUTUxDYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYzFcIik7XHJcbiAgICAgICAgY29uc3QgY2FudmFzMjogSFRNTENhbnZhc0VsZW1lbnQgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjMlwiKTtcclxuICAgICAgICBmdWRnZS5SZW5kZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIHZpZXdwb3J0MCA9IG5ldyBmdWRnZS5WaWV3cG9ydCgpO1xyXG4gICAgICAgIHZpZXdwb3J0MSA9IG5ldyBmdWRnZS5WaWV3cG9ydCgpO1xyXG4gICAgICAgIHZpZXdwb3J0MiA9IG5ldyBmdWRnZS5WaWV3cG9ydCgpO1xyXG5cclxuICAgICAgICBsZXQgb2JqZWN0MDogZnVkZ2UuTm9kZSA9IG5ldyBPYmplY3RXaXRoTGlnaHRzKFwiT2JqZWN0MFwiLCBjb2xvciwgc2hhZGVyc1swXSk7XHJcbiAgICAgICAgbGV0IG9iamVjdDE6IGZ1ZGdlLk5vZGUgPSBuZXcgT2JqZWN0V2l0aExpZ2h0cyhcIk9iamVjdDFcIiwgY29sb3IsIHNoYWRlcnNbMV0pO1xyXG4gICAgICAgIGxldCBvYmplY3QyOiBmdWRnZS5Ob2RlID0gbmV3IE9iamVjdFdpdGhMaWdodHMoXCJPYmplY3QyXCIsIGNvbG9yLCBzaGFkZXJzWzJdKTtcclxuXHJcbiAgICAgICAgbGV0IGNtcENhbWVyYTogZnVkZ2UuQ29tcG9uZW50Q2FtZXJhID0gbmV3IGZ1ZGdlLkNvbXBvbmVudENhbWVyYSgpO1xyXG4gICAgICAgIGNtcENhbWVyYS5tdHhQaXZvdC50cmFuc2xhdGVaKC0yLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZpZXdwb3J0MC5pbml0aWFsaXplKFwiVmlld3BvcnRcIiwgb2JqZWN0MCwgY21wQ2FtZXJhLCBjYW52YXMwKTtcclxuICAgICAgICB2aWV3cG9ydDAuZHJhdygpO1xyXG4gICAgICAgIHZpZXdwb3J0MS5pbml0aWFsaXplKFwiVmlld3BvcnRcIiwgb2JqZWN0MSwgY21wQ2FtZXJhLCBjYW52YXMxKTtcclxuICAgICAgICB2aWV3cG9ydDEuZHJhdygpO1xyXG4gICAgICAgIHZpZXdwb3J0Mi5pbml0aWFsaXplKFwiVmlld3BvcnRcIiwgb2JqZWN0MiwgY21wQ2FtZXJhLCBjYW52YXMyKTtcclxuICAgICAgICB2aWV3cG9ydDIuZHJhdygpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBPYmplY3RXaXRoTGlnaHRzIGV4dGVuZHMgZnVkZ2UuTm9kZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBvYmplY3Q6IGZ1ZGdlLk5vZGU7XHJcbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKF9uYW1lOiBzdHJpbmcsIF9jb2xvcjogZnVkZ2UuQ29sb3IsIF9zaGFkZXI6IHR5cGVvZiBmdWRnZS5TaGFkZXIpIHtcclxuICAgICAgICAgICAgc3VwZXIoX25hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdCA9IG5ldyBmdWRnZS5Ob2RlKFwiXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMub2JqZWN0KTtcclxuICAgICAgICAgICAgbGV0IG10cjogZnVkZ2UuTWF0ZXJpYWwgPSBuZXcgZnVkZ2UuTWF0ZXJpYWwoXCJtdHJcIiArIF9jb2xvci50b1N0cmluZygpLCBfc2hhZGVyLCBuZXcgZnVkZ2UuQ29hdENvbG9yZWQoX2NvbG9yLCBzaGluaW5lc3MpKTtcclxuICAgICAgICAgICAgbGV0IGNtcE1hdGVyaWFsOiBmdWRnZS5Db21wb25lbnRNYXRlcmlhbCA9IG5ldyBmdWRnZS5Db21wb25lbnRNYXRlcmlhbChtdHIpO1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KG5ldyBmdWRnZS5Db21wb25lbnRNZXNoKG5ldyBmdWRnZS5NZXNoU3BoZXJlKHNwaGVyZVNpemUudG9TdHJpbmcoKSwgc3BoZXJlU2l6ZSwgc3BoZXJlU2l6ZSkpKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KG5ldyBmdWRnZS5Db21wb25lbnRNZXNoKG5ldyBmdWRnZS5NZXNoT2JqKE9iamVjdC5vYmopKSk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChuZXcgZnVkZ2UuQ29tcG9uZW50TWVzaChuZXcgZnVkZ2UuTWVzaFRvcnVzKFwiVG9ydXNcIiwgMTAsIDUwLCAxMCkpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChjbXBNYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQobmV3IGZ1ZGdlLkNvbXBvbmVudFRyYW5zZm9ybSgpKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuY21wVHJhbnNmb3JtLm10eExvY2FsLnJvdGF0ZVkoMTgwKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5vYmplY3QuY21wVHJhbnNmb3JtLm10eExvY2FsLnJvdGF0ZVgoLTQ1KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjbXBMaWdodDogZnVkZ2UuQ29tcG9uZW50TGlnaHQgPSBuZXcgZnVkZ2UuQ29tcG9uZW50TGlnaHQobmV3IGZ1ZGdlLkxpZ2h0RGlyZWN0aW9uYWwobmV3IGZ1ZGdlLkNvbG9yKGRpckludGVuc2l0eSwgZGlySW50ZW5zaXR5LCBkaXJJbnRlbnNpdHksIDEpKSk7XHJcbiAgICAgICAgICAgIGxldCBsaWdodDogZnVkZ2UuTm9kZSA9IG5ldyBmdWRnZS5Ob2RlKFwiTGlnaHRcIik7XHJcbiAgICAgICAgICAgIGxpZ2h0LmFkZENvbXBvbmVudChjbXBMaWdodCk7XHJcbiAgICAgICAgICAgIGxpZ2h0LmFkZENvbXBvbmVudChuZXcgZnVkZ2UuQ29tcG9uZW50VHJhbnNmb3JtKCkpO1xyXG4gICAgICAgICAgICBsaWdodC5jbXBUcmFuc2Zvcm0ubXR4TG9jYWwucm90YXRlKGRpclJvdGF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChsaWdodCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY21wTGlnaHRBbWI6IGZ1ZGdlLkNvbXBvbmVudExpZ2h0ID0gbmV3IGZ1ZGdlLkNvbXBvbmVudExpZ2h0KG5ldyBmdWRnZS5MaWdodEFtYmllbnQobmV3IGZ1ZGdlLkNvbG9yKGFtYkludGVuc2l0eSwgYW1iSW50ZW5zaXR5LCBhbWJJbnRlbnNpdHksIDEpKSk7XHJcbiAgICAgICAgICAgIGxldCBsaWdodEFtYjogZnVkZ2UuTm9kZSA9IG5ldyBmdWRnZS5Ob2RlKFwiTGlnaHRBbWJcIik7XHJcbiAgICAgICAgICAgIGxpZ2h0QW1iLmFkZENvbXBvbmVudChjbXBMaWdodEFtYik7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQobGlnaHRBbWIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==